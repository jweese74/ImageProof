{% extends 'base.html' %}

{% block title %}Sign Up - ImageProof{% endblock %}

{% block csrf_token %}
    {{ csrf_token() }}
{% endblock %}

{% block content %}
<section class="auth-form">
    <h1>Create an Account</h1>
    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert {{ category }}" role="alert">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <form method="POST" action="{{ url_for('public.signup') }}" novalidate>
        {# For PHP fallback: <?php echo htmlspecialchars($_SERVER['PHP_SELF']); ?> #}
        <div class="form-group">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" class="input" placeholder="name@example.com" required>
            {% if form and form.email.errors %}
                <div class="text-muted">{{ form.email.errors[0] }}</div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input id="password" name="password" type="password" class="input" placeholder="Password" required>
            {% if form and form.password.errors %}
                <div class="text-muted">{{ form.password.errors[0] }}</div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="terms">
                <input id="terms" name="terms" type="checkbox" value="yes"> I agree to the <a href="#">Terms of Use</a> and <a href="#">Privacy Policy</a>
            </label>
            {% if form and form.terms.errors %}
                <div class="text-muted">{{ form.terms.errors[0] }}</div>
            {% endif %}
        </div>
        <div class="form-group" id="captcha">
            <div id="captcha-widget"></div>
        </div>
        <button type="submit" class="btn">Sign Up</button>
    </form>
    <p>Already have an account? <a href="{{ url_for('public.login') }}">Log in here.</a></p>
</section>